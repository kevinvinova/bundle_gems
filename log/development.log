DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/kevin/vinova/rails_project/rails30_apps/demo/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2011-08-19 08:15:51 +0700
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
Rendered products/index.html.erb within layouts/application (87.1ms)
Completed 200 OK in 255ms (Views: 121.1ms | ActiveRecord: 1.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:14:49 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_81268030__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:28: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_81268030__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  simple_form_for [@product, @comment] do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
       end 
       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
    ');@output_buffer.append= ( f.button :submit );@output_buffer.safe_concat('
');
@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81551270__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (103.4ms)
Rendered comments/index.html.erb within layouts/application (105.3ms)
Completed 500 Internal Server Error in 170ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:28: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    25:     <%= f.button :submit %>
    26:     <%#= f.submit %>
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81551270__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.6ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:16:31 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_68314710__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_comments__form_html_erb__903708692_68314710__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  simple_form_for [@product, @comment] do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
       end 

@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
    ');@output_buffer.append= ( f.button :submit );@output_buffer.safe_concat('
');
@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_68341000__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (36.0ms)
Rendered comments/index.html.erb within layouts/application (37.9ms)
Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end):
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_68341000__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:17:10 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/index.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (Missing partial comments/comment with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
    7: <br>
    8: <span id="comments_count"><%= pluralize(@comments.count, "Comment") %></span>
    9: <ul id="comments">
    10:   <%= render :partial => @comments, :locals => { :list => true } %>
    11: </ul>
    12: <!-- render :partial =>'sth',:object => @sth co the thay bang render :partial =>@sths voi dk co file _sth.html.erb -->
  app/views/comments/index.html.erb:10:in `_app_views_comments_index_html_erb__521344295_72552100__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:29:15 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/index.html.erb within layouts/application (7.7ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (Missing partial comments/comment with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
    7: <br>
    8: <span id="comments_count"><%= pluralize(@comments.count, "Comment") %></span>
    9: <ul id="comments">
    10:   <%= render :partial => @comments, :locals => { :list => true } %>
    11: </ul>
    12: <!-- render :partial =>'sth',:object => @sth co the thay bang render :partial =>@sths voi dk co file _sth.html.erb -->
  app/views/comments/index.html.erb:10:in `_app_views_comments_index_html_erb__521344295_82509490__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:29:17 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/index.html.erb within layouts/application (7.4ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (Missing partial comments/comment with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
    7: <br>
    8: <span id="comments_count"><%= pluralize(@comments.count, "Comment") %></span>
    9: <ul id="comments">
    10:   <%= render :partial => @comments, :locals => { :list => true } %>
    11: </ul>
    12: <!-- render :partial =>'sth',:object => @sth co the thay bang render :partial =>@sths voi dk co file _sth.html.erb -->
  app/views/comments/index.html.erb:10:in `_app_views_comments_index_html_erb__521344295_74012380__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (50.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:32:46 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (280.8ms)
Rendered comments/index.html.erb within layouts/application (287.2ms)
Completed 500 Internal Server Error in 318ms

ActionView::Template::Error (undefined method `comment_path' for #<#<Class:0x9b0bea0>:0x9b0afb4>):
    2:   <p><%= comment.product.name %> wrote:</p> <br/>
    3:   <p><%= comment.content %></p>
    4:   <span class="age">Posted at <%= time_ago_in_words(comment.created_at) %> ago.
    5:   (<%= link_to 'Delete', comment, :confirm => 'Are you sure?', :method => :delete, :remote => true %>)</span>
    6: <% end %>
  app/views/comments/_comment.html.erb:5:in `block in _app_views_comments__comment_html_erb___522655449_81255450_130315928'
  app/views/comments/_comment.html.erb:1:in `_app_views_comments__comment_html_erb___522655449_81255450_130315928'
  app/views/comments/index.html.erb:10:in `_app_views_comments_index_html_erb__521344295_81285780__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:33:16 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (52.1ms)
Rendered comments/index.html.erb within layouts/application (58.3ms)
Completed 500 Internal Server Error in 91ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"comments", :product_id=>#<Comment id: 10, content: "test dfadfadf dafdfdfdfa dfdfd", user_id: 1, product_id: 2, created_at: "2011-08-18 15:39:27", updated_at: "2011-08-18 15:39:27">}):
    2:   <p><%= comment.product.name %> wrote:</p> <br/>
    3:   <p><%= comment.content %></p>
    4:   <span class="age">Posted at <%= time_ago_in_words(comment.created_at) %> ago.
    5:   (<%= link_to 'Delete', product_comment_path(comment), :confirm => 'Are you sure?', :method => :delete, :remote => true %>)</span>
    6: <% end %>
  app/views/comments/_comment.html.erb:5:in `block in _app_views_comments__comment_html_erb___522655449_76925800_130315928'
  app/views/comments/_comment.html.erb:1:in `_app_views_comments__comment_html_erb___522655449_76925800_130315928'
  app/views/comments/index.html.erb:10:in `_app_views_comments_index_html_erb__521344295_77710550__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:34:03 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (21.1ms)
Rendered comments/index.html.erb within layouts/application (42.9ms)
Completed 200 OK in 73ms (Views: 51.7ms | ActiveRecord: 0.4ms)


Started DELETE "/products/2/comments/11" for 127.0.0.1 at 2011-08-19 09:40:42 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"11"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 11 AND (`comments`.product_id = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mDELETE FROM `comments` WHERE `comments`.`id` = 11[0m
  [1m[35mSQL (7.3ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 55ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:40:42 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (54.3ms)
Rendered comments/index.html.erb within layouts/application (75.7ms)
Completed 200 OK in 115ms (Views: 84.8ms | ActiveRecord: 1.0ms)


Started DELETE "/products/2/comments/11" for 127.0.0.1 at 2011-08-19 09:40:46 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"11"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 11 AND (`comments`.product_id = 2) LIMIT 1
Completed 404 Not Found in 23ms

ActiveRecord::RecordNotFound (Couldn't find Comment with ID=11 [WHERE (`comments`.product_id = 2)]):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:40:56 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (19.8ms)
Rendered comments/index.html.erb within layouts/application (42.3ms)
Completed 200 OK in 113ms (Views: 51.0ms | ActiveRecord: 0.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:51:07 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (20.1ms)
Rendered comments/index.html.erb within layouts/application (41.2ms)
Completed 200 OK in 106ms (Views: 50.1ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:53:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (57.5ms)
Rendered comments/index.html.erb within layouts/application (78.3ms)
Completed 200 OK in 109ms (Views: 87.0ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:53:57 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (19.7ms)
Rendered comments/index.html.erb within layouts/application (74.8ms)
Completed 200 OK in 106ms (Views: 83.6ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:55:13 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (20.3ms)
Rendered comments/index.html.erb within layouts/application (74.4ms)
Completed 200 OK in 114ms (Views: 83.1ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:56:14 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.6ms)
Rendered comments/index.html.erb within layouts/application (46.6ms)
Completed 200 OK in 79ms (Views: 57.3ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:56:53 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (20.9ms)
Rendered comments/index.html.erb within layouts/application (43.0ms)
Completed 200 OK in 81ms (Views: 53.8ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:56:58 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (19.8ms)
Rendered comments/index.html.erb within layouts/application (40.7ms)
Completed 200 OK in 72ms (Views: 49.8ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:57:16 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (24.0ms)
Rendered comments/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 77ms (Views: 55.7ms | ActiveRecord: 0.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:57:37 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (33.1ms)
Rendered comments/index.html.erb within layouts/application (55.6ms)
Completed 200 OK in 86ms (Views: 64.3ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 09:57:39 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (20.1ms)
Rendered comments/index.html.erb within layouts/application (44.4ms)
Completed 200 OK in 75ms (Views: 53.2ms | ActiveRecord: 0.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:04:24 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (24.5ms)
Rendered comments/index.html.erb within layouts/application (48.1ms)
Completed 200 OK in 129ms (Views: 58.0ms | ActiveRecord: 0.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:05:11 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (25.2ms)
Rendered comments/index.html.erb within layouts/application (53.0ms)
Completed 200 OK in 145ms (Views: 64.9ms | ActiveRecord: 0.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:06:10 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (70.2ms)
Rendered comments/index.html.erb within layouts/application (94.4ms)
Completed 200 OK in 133ms (Views: 103.4ms | ActiveRecord: 0.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:27:47 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (53.2ms)
Rendered comments/index.html.erb within layouts/application (77.1ms)
Completed 200 OK in 112ms (Views: 87.7ms | ActiveRecord: 0.6ms)


Started DELETE "/products/2/comments/10" for 127.0.0.1 at 2011-08-19 10:33:24 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"10"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.3ms)[0m  SELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 10 AND (`comments`.product_id = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM `comments` WHERE `comments`.`id` = 10
  [1m[36mSQL (7.3ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 64ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:33:24 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered collection (0.0ms)
Rendered comments/index.html.erb within layouts/application (20.9ms)
Completed 200 OK in 52ms (Views: 29.3ms | ActiveRecord: 0.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:33:28 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered collection (0.0ms)
Rendered comments/index.html.erb within layouts/application (25.0ms)
Completed 200 OK in 56ms (Views: 34.6ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:36:44 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_81246850__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_comments__form_html_erb__903708692_81246850__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  simple_form_for [@product, @comment] do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
       end 

@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
    ');@output_buffer.append= ( f.button :submit );@output_buffer.safe_concat('
');
@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81252550__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (14.3ms)
Rendered comments/index.html.erb within layouts/application (16.2ms)
Completed 500 Internal Server Error in 46ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end):
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81252550__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:37:21 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_82930660__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_comments__form_html_erb__903708692_82930660__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for [@product, @comment] do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
       end 

@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
    ');@output_buffer.append= ( f.button :submit );@output_buffer.safe_concat('
');
@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83101530__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end):
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83101530__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:37:24 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_75693500__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_comments__form_html_erb__903708692_75693500__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for [@product, @comment] do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
       end 

@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
    ');@output_buffer.append= ( f.button :submit );@output_buffer.safe_concat('
');
@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75899700__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting $end):
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75899700__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:38:42 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_81908050__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81919360__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:16 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_74367310__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74374380__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:18 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_80678160__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80794330__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:19 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_84295240__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84305010__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:19 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_78865340__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_78871090__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:43 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_82929000__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83100320__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:44 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 43ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_76172590__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_76453570__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:44 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_82521590__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82718660__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:39:44 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_75193350__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75201190__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (40.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (46.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:07 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_81689400__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81728170__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:07 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 68ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_84890610__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84898390__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:08 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for @comment do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_80083900__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80215200__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:28 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for (@comment) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83399630__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83408990__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:29 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for (@comment) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_77578980__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77783130__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:41:59 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for(@comment) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_82915090__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82923420__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:42:00 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for(@comment) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_75587800__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75695150__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (46.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:42:35 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_82255070__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82377090__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:42:37 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_74405410__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74411110__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:42:37 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_81173860__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81211480__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:49:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments_index_html_erb__521344295_84839990__643176237 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:9: syntax error, unexpected ':'
..._buffer.append= ( f.text_area : content, :rows => 6 );@outpu...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:9: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...f.text_area : content, :rows => 6 );@output_buffer.safe_conc...
...                               ^
Function body:           def _app_views_comments_index_html_erb__521344295_84839990__643176237(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<h2>Comments</h2>

<div id="post_form">
');
@output_buffer.append_if_string=    form_for Comment.new, :remote => true do |f| 
@output_buffer.safe_concat('	');@output_buffer.append= ( f.label :product_id, "Product_id" );@output_buffer.safe_concat('<br />
	');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('<br />
	');@output_buffer.append= ( f.label :content, "Comment" );@output_buffer.safe_concat('<br />
	');@output_buffer.append= ( f.text_area : content, :rows => 6 );@output_buffer.safe_concat('<br />
	');@output_buffer.append= ( f.submit "Add comment" );@output_buffer.safe_concat('
');   end 
@output_buffer.safe_concat('  
</div>
<div id="comment-notice"></div> <!-- flash notice -->
<br>
<span id="comments_count">');@output_buffer.append= ( pluralize(@comments.count, "Comment") );@output_buffer.safe_concat('</span>
<ul id="comments">
  ');@output_buffer.append= ( render :partial => @comments, :locals => { :list => true } );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</ul>
<!-- render :partial =>\'sth\',:object => @sth co the thay bang render :partial =>@sths voi dk co file _sth.html.erb -->');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/index.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:9: syntax error, unexpected ':'
..._buffer.append= ( f.text_area : content, :rows => 6 );@outpu...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:9: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...f.text_area : content, :rows => 6 );@output_buffer.safe_conc...
...                               ^):
    6: 	<%= f.label :product_id, "Product_id" %><br />
    7: 	<%= f.text_field :product_id %><br />
    8: 	<%= f.label :content, "Comment" %><br />
    9: 	<%= f.text_area : content, :rows => 6 %><br />
    10: 	<%= f.submit "Add comment" %>
    11:   <% end %>
    12:   
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:49:46 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/index.html.erb within layouts/application (19.5ms)
Completed 500 Internal Server Error in 50ms

ActionView::Template::Error (undefined method `comments_path' for #<#<Class:0x98896f0>:0x987c4f0>):
    2: 
    3: <div id="post_form">
    4:   <%#= render :partial =>'form' %>
    5:   <% form_for Comment.new, :remote => true do |f| %>
    6: 	<%= f.label :product_id, "Product_id" %><br />
    7: 	<%= f.text_field :product_id %><br />
    8: 	<%= f.label :content, "Comment" %><br />
  app/views/comments/index.html.erb:5:in `_app_views_comments_index_html_erb__521344295_79944870__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:50:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_82511910__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...form_for ([@product, @comment], :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_82511910__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for ([@product, @comment], :remote => true) do |f| @output_buffer.safe_concat('
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82719930__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...form_for ([@product, @comment], :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for ([@product, @comment], :remote => true) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82719930__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:55:45 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.2ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for Hash:Class):
    1: <%= form_for ([@product, @comment, :remote => true]) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_74738730__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74944660__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 10:55:46 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for Hash:Class):
    1: <%= form_for ([@product, @comment, :remote => true]) do |f| %>
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_81253500__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81262240__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:01:27 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_84657160__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_84657160__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84839940__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 67ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84839940__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:01:30 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_79359980__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_79359980__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_79397680__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_79397680__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:12 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_83041700__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_83041700__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83097130__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83097130__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:13 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_75697720__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_75697720__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_76363570__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_76363570__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (43.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (51.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:15 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_81978610__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_81978610__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82376730__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82376730__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:15 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_74378640__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_74378640__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74406000__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (35.9ms)
Rendered comments/index.html.erb within layouts/application (37.9ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74406000__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:16 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_80641150__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_80641150__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :remote => true) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80795190__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :remote => true) do |f| @out...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :remote => true) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80795190__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:10:46 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for (@comment) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83703780__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84258720__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:11:38 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for ([@product, @comment]) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_77946350__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77962280__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:08 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83047760__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83102890__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:09 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_75698060__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_76362900__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:09 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_82381250__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82507580__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:10 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_74409950__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74644350__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:10 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_81290810__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81555690__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:11 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 68ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_84844250__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84863200__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:11 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_79831610__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_79942130__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:13:11 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 42ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83187190__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83410570__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products" for 127.0.0.1 at 2011-08-19 11:17:13 +0700
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products`
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
Rendered products/index.html.erb within layouts/application (54.8ms)
Completed 200 OK in 66ms (Views: 63.8ms | ActiveRecord: 0.6ms)


Started GET "/products/new" for 127.0.0.1 at 2011-08-19 11:17:16 +0700
  Processing by ProductsController#new as HTML
Completed   in 11ms


Started GET "/users/sign_in" for 127.0.0.1 at 2011-08-19 11:17:16 +0700
  Processing by Devise::SessionsController#new as HTML
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views/devise/shared/_links.erb (2.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views/devise/sessions/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 92ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2011-08-19 11:17:18 +0700
  Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "user"=>{"email"=>"kevin@vinova.sg", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = 'kevin@vinova.sg' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE `users` SET `last_sign_in_at` = '2011-08-18 13:55:04', `current_sign_in_at` = '2011-08-19 04:17:18', `sign_in_count` = 7, `updated_at` = '2011-08-19 04:17:18' WHERE `users`.`id` = 1
  [1m[36mSQL (11.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/new
Completed 302 Found in 264ms


Started GET "/products/new" for 127.0.0.1 at 2011-08-19 11:17:18 +0700
  Processing by ProductsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.* FROM `categories`[0m
Rendered products/_form.html.erb (573.1ms)
Rendered products/new.html.erb within layouts/application (579.0ms)
Completed 200 OK in 639ms (Views: 605.9ms | ActiveRecord: 1.0ms)


Started POST "/products" for 127.0.0.1 at 2011-08-19 11:17:33 +0700
  Processing by ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "product"=>{"name"=>"san pham 4", "price"=>"3", "released_on(1i)"=>"2011", "released_on(2i)"=>"8", "released_on(3i)"=>"19", "category_id"=>"1", "rating"=>"2", "discontinued"=>"0"}, "commit"=>"Create Product"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  describe `products`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `products` (`name`, `price`, `released_on`, `category_id`, `rating`, `discontinued`, `created_at`, `updated_at`) VALUES ('san pham 4', 3, '2011-08-19', 1, 2, 0, '2011-08-19 04:17:33', '2011-08-19 04:17:33')[0m
  [1m[35mSQL (5.9ms)[0m  COMMIT
Redirected to http://localhost:3000/products
Completed 302 Found in 107ms


Started GET "/products" for 127.0.0.1 at 2011-08-19 11:17:33 +0700
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products`[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered products/index.html.erb within layouts/application (83.6ms)
Completed 200 OK in 93ms (Views: 91.7ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:17:50 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (1.2ms)
Rendered comments/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%= form_for [@product, @comment] do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83045650__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83101890__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.3ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:22:49 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/_form.html.erb (57.5ms)
Rendered comments/index.html.erb within layouts/application (59.7ms)
Completed 500 Internal Server Error in 90ms

ActionView::Template::Error (undefined method `comments_path' for #<#<Class:0x8ffae1c>:0x8ff98a0>):
    1: <%= form_for (Comment.new(@product)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_75314560__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75482630__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:23:27 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.1ms)
Rendered comments/index.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_for new_product_comment_path do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    5:       <ul>
  app/views/comments/_form.html.erb:2:in `block in _app_views_comments__form_html_erb__903708692_80506490__959266854'
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_80506490__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80564730__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:23:43 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/_form.html.erb (13.4ms)
Rendered comments/index.html.erb within layouts/application (15.5ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (undefined local variable or method `new_product_comment' for #<#<Class:0x9f8aff8>:0x9f8a058>):
    1: <%= form_for new_product_comment do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/_form.html.erb:1:in `_app_views_comments__form_html_erb__903708692_83411790__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83643080__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:25:39 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_75199730__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@comment) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_75199730__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@comment) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75244640__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@comment) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@comment) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75244640__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (41.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (47.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 11:26:35 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_81886120__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...product_comment_path(@comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_81886120__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@comment)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81916350__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...product_comment_path(@comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@comment)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81916350__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:02:17 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_84287700__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_84287700__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84296440__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84296440__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:02:18 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_76818550__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_76818550__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77456650__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77456650__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:02:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_82739040__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_82739040__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82851800__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@product, @comment)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82851800__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:02:50 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_75202070__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_75202070__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product, @comment)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75246560__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...mment_path(@product, @comment)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product, @comment)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75246560__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:06 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_81287510__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_81287510__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path() do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81552580__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path() do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81552580__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:08 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_84288530__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_84288530__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path() do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84297370__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.5ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path() do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84297370__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:09 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_78536930__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_78536930__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path() do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_78630160__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...> new_product_comment_path() do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path() do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_78630160__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.3ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:31 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_83041330__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_83041330__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83096590__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83096590__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:31 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_75585990__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_75585990__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75697530__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75697530__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (48.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_81915420__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_81915420__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81977180__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.5ms)
Rendered comments/index.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81977180__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_84871930__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_84871930__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84889990__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84889990__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_79976410__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_79976410__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80069520__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80069520__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:33 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_83401770__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_83401770__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83619440__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83619440__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:33 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_76819880__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_76819880__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77153420__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_77153420__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:33 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_82508540__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_82508540__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => new_product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82601440__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => new_product_comment_...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82601440__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:03:42 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_74414210__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_74414210__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74933500__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (36.9ms)
Rendered comments/index.html.erb within layouts/application (39.0ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...oduct_comment_path(@product) do |f| @output_buffer.safe_conc...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@product) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74933500__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:06:02 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
ERROR: compiling _app_views_comments__form_html_erb__903708692_80683760__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...product_comment_path(@product)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^
Function body:           def _app_views_comments__form_html_erb__903708692_80683760__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for (@comment, :url => product_comment_path(@product)) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');   if @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80798890__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ',', expecting ')'
...er.append=  form_for (@comment, :url => product_comment_path...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:1: syntax error, unexpected ')', expecting keyword_end
...product_comment_path(@product)) do |f| @output_buffer.safe_c...
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:6: syntax error, unexpected keyword_do_block, expecting keyword_end
...nt.errors.full_messages.each do |msg| 
...                               ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:25: syntax error, unexpected keyword_end, expecting $end
'); end 
       ^):
    1: <%= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2:   <% if @comment.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80798890__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:41:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.1ms)
Rendered comments/index.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"comments", :product_id=>#<Product id: 2, name: "san pham 2", price: 3, released_on: "2011-08-12", category_id: 1, rating: 4, discontinued: false, created_at: "2011-08-12 15:28:49", updated_at: "2011-08-12 15:28:49">, :id=>nil}):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for product_comment_path(@product, @comment) do |f| %> <!--, :remote => true -->
    3: 
    4:   <% if @comment.errors.any? %>
    5:     <div id="error_explanation">
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_83643020__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_83707170__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:42:59 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.2ms)
Rendered comments/index.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for new_product_comment_path(@product, @comment) do |f| %> <!--, :remote => true -->
    3: 
    4:   <% if @comment.errors.any? %>
    5:     <div id="error_explanation">
    6:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    7:       <ul>
  app/views/comments/_form.html.erb:4:in `block in _app_views_comments__form_html_erb__903708692_75398100__959266854'
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_75398100__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75485850__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (41.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (48.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:44:46 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.3ms)
Rendered comments/index.html.erb within layouts/application (4.3ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for new_product_comment_path(@product, @comment, :remote => true) do |f| %> <!--, :remote => true -->
    3: 
    4:   <% if @comment.errors.any? %>
    5:     <div id="error_explanation">
    6:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    7:       <ul>
  app/views/comments/_form.html.erb:4:in `block in _app_views_comments__form_html_erb__903708692_81919350__959266854'
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_81919350__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81980560__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:44:47 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.3ms)
Rendered comments/index.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for new_product_comment_path(@product, @comment, :remote => true) do |f| %> <!--, :remote => true -->
    3: 
    4:   <% if @comment.errors.any? %>
    5:     <div id="error_explanation">
    6:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    7:       <ul>
  app/views/comments/_form.html.erb:4:in `block in _app_views_comments__form_html_erb__903708692_84884810__959266854'
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_84884810__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84895110__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:45:15 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (4.0ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered collection (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (43.0ms)
Completed 200 OK in 79ms (Views: 51.7ms | ActiveRecord: 0.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:45:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (3.8ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered collection (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (44.5ms)
Completed 200 OK in 74ms (Views: 53.0ms | ActiveRecord: 0.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:46:28 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (3.6ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered collection (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (41.5ms)
Completed 200 OK in 72ms (Views: 49.9ms | ActiveRecord: 0.7ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:46:45 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "/products/2/comments/new"=>{"content"=>"test", "user_id"=>"1", "product_id"=>"2"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 51ms

ActionView::MissingTemplate (Missing template comments/new with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 12:47:19 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (3.5ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered collection (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (86.8ms)
Completed 200 OK in 128ms (Views: 95.1ms | ActiveRecord: 0.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:48:43 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.0ms)
Rendered comments/index.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"comments", :product_id=>#<Product id: 2, name: "san pham 2", price: 3, released_on: "2011-08-12", category_id: 1, rating: 4, discontinued: false, created_at: "2011-08-12 15:28:49", updated_at: "2011-08-12 15:28:49">}):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => product_comment_path(@product) do |f| %> <!--, :remote => true -->
    3: 
    4:   <% if false #@comment.errors.any? %>
    5:     <div id="error_explanation">
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_79572190__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_79836380__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:52:18 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_84281350__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting keyword_end
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:32: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_comments__form_html_erb__903708692_84281350__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;;@output_buffer.safe_concat(' <!--, :remote => true -->
');@output_buffer.append=  form_for [@product, @comment], :url => product_comment_path(@product) do |f| @output_buffer.safe_concat(' <!--, :remote => true -->
');@output_buffer.append=  form_for [@product, @comment], :url => {:action => "new"} do |f| @output_buffer.safe_concat(' 
');@output_buffer.safe_concat('
');   if false #@comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit "Add comment" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:22:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84290230__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:7:in `index'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__523198721__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:30: syntax error, unexpected keyword_ensure, expecting keyword_end
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:32: syntax error, unexpected $end, expecting keyword_end):
    27:   </div>
    28: <% end %>
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84290230__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:52:31 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%#= form_for [@product, @comment], :url => product_comment_path(@product) do |f| %> <!--, :remote => true -->
    3: <%= form_for [@product, @comment], :url => {:action => "new"} do |f| %> 
    4: 
    5:   <% if false #@comment.errors.any? %>
    6:     <div id="error_explanation">
  app/views/comments/_form.html.erb:3:in `_app_views_comments__form_html_erb__903708692_75482540__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_75691930__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (45.5ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:52:32 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%#= form_for [@product, @comment], :url => product_comment_path(@product) do |f| %> <!--, :remote => true -->
    3: <%= form_for [@product, @comment], :url => {:action => "new"} do |f| %> 
    4: 
    5:   <% if false #@comment.errors.any? %>
    6:     <div id="error_explanation">
  app/views/comments/_form.html.erb:3:in `_app_views_comments__form_html_erb__903708692_82509770__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_82719110__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:53:06 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.3ms)
Rendered comments/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 42ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%#= form_for [@product, @comment], :url => product_comment_path(@product) do |f| %> <!--, :remote => true -->
    3: <%= form_for [@product, @comment], :url => {:action => "create"} do |f| %> 
    4: 
    5:   <% if false #@comment.errors.any? %>
    6:     <div id="error_explanation">
  app/views/comments/_form.html.erb:3:in `_app_views_comments__form_html_erb__903708692_74380180__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_74407570__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (37.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (51.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:53:37 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.9ms)
Rendered comments/index.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => new_product_comment_path(@product) do |f| %> <!--, :remote => true -->
    3: 
    4: 
    5:   <% if false #@comment.errors.any? %>
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_81880960__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_81911190__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:54:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.7ms)
Rendered comments/index.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => new_product_comment_path(@product) do |f| %> 
    3: 
    4: 
    5:   <% if false #@comment.errors.any? %>
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_85677420__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295__620612048__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:54:21 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.8ms)
Rendered comments/index.html.erb within layouts/application (4.8ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => new_product_comment_path(@product) do |f| %> 
    3: 
    4: 
    5:   <% if false #@comment.errors.any? %>
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_80329130__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_80558380__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:54:22 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (37.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.7ms)
Rendered comments/index.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => new_product_comment_path(@product) do |f| %> 
    3: 
    4: 
    5:   <% if false #@comment.errors.any? %>
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_84841490__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_84860940__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 13:54:23 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (1.8ms)
Rendered comments/index.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment], :url => new_product_comment_path(@product) do |f| %> 
    3: 
    4: 
    5:   <% if false #@comment.errors.any? %>
  app/views/comments/_form.html.erb:2:in `_app_views_comments__form_html_erb__903708692_79366960__959266854'
  app/views/comments/index.html.erb:4:in `_app_views_comments_index_html_erb__521344295_79399630__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:19:23 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/index.html.erb within layouts/application (20.7ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (undefined method `comments_path' for #<#<Class:0xa0b8470>:0xa0b6ecc>):
    2: 
    3: <div id="post_form">
    4:   <%#= render :partial =>'form' %>
    5:   <% form_for Comment.new(@product), :remote => true do |f| %>
    6: 	<%#= f.label :product_id, "Product_id" %><br />
    7: 	<%#= f.text_field :product_id %><br />
    8: 	<%= f.label :content, "Comment" %><br />
  app/views/comments/index.html.erb:5:in `_app_views_comments_index_html_erb__521344295_84259040__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:28:09 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered collection (0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (86.5ms)
Completed 200 OK in 125ms (Views: 94.9ms | ActiveRecord: 1.1ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:28:11 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (37.3ms)
Completed 200 OK in 75ms (Views: 46.4ms | ActiveRecord: 0.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:28:48 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered collection (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (38.4ms)
Completed 200 OK in 70ms (Views: 47.0ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:28:50 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
ERROR: compiling _app_views_comments__form_html_erb__903708692_74950150__959266854 RAISED /home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:4: syntax error, unexpected tIVAR, expecting keyword_then or ';' or '\n'
');   if false @comment.errors.any? 
                       ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:29: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_comments__form_html_erb__903708692_74950150__959266854(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "comments/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;;@output_buffer.safe_concat(' <!--, :remote => true -->
');@output_buffer.append=  form_for [@product, @comment] do |f| @output_buffer.safe_concat(' 
');@output_buffer.safe_concat('
');   if false @comment.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@comment.errors.count, "error") );@output_buffer.safe_concat(' prohibited this comment from being saved:</h2>
      <ul>
');@output_buffer.append_if_string=        @comment.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.text_area :content, :rows => 6 );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :user_id );@output_buffer.safe_concat(' <br />
    ');@output_buffer.append= ( f.text_field :product_id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    
');


@output_buffer.safe_concat('  </div>
  <div class="actions">
');
@output_buffer.safe_concat('    ');@output_buffer.append= ( f.submit "Add comment" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `module_eval'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:258:in `compile'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/new.html.erb:3:in `_app_views_comments_new_html_erb__388883833_75193260__643176237'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:190:in `default_render'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:126:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/responders-0.6.4/lib/responders/flash_responder.rb:93:in `to_html'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:119:in `respond'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/responder.rb:112:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/inherited_resources-1.2.2/lib/inherited_resources/actions.rb:19:in `new'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__959922170__process_action__677026769__callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `block in instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `block in action'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:35:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `catch'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/warden-1.0.5/lib/warden/manager.rb:34:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/home/kevin/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
Rendered comments/_form.html.erb (1.4ms)
Rendered comments/new.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 50ms

ActionView::Template::Error (/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:4: syntax error, unexpected tIVAR, expecting keyword_then or ';' or '\n'
');   if false @comment.errors.any? 
                       ^
/home/kevin/vinova/rails_project/rails30_apps/demo/app/views/comments/_form.html.erb:29: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%#= form_for (@comment, :url => product_comment_path(@product)) do |f| %> <!--, :remote => true -->
    2: <%= form_for [@product, @comment] do |f| %> 
    3: 
    4:   <% if false @comment.errors.any? %>
    5:     <div id="error_explanation">
    6:       <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    7:       <ul>
  app/views/comments/new.html.erb:3:in `_app_views_comments_new_html_erb__388883833_75193260__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (50.8ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:29:06 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (3.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (40.1ms)
Completed 200 OK in 78ms (Views: 48.9ms | ActiveRecord: 0.3ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:29:09 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered collection (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (39.1ms)
Completed 200 OK in 71ms (Views: 47.7ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:29:10 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (3.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (76.9ms)
Completed 200 OK in 129ms (Views: 86.4ms | ActiveRecord: 0.4ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:29:22 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"tetadfadjfkj\r\nfkdjfjadf\r\ndfkdjfksdjf;f\r\n", "user_id"=>"1", "product_id"=>"2"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mdescribe `comments`[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('tetadfadjfkj\r\nfkdjfjadf\r\ndfkdjfksdjf;f\r\n', 1, 2, '2011-08-19 07:29:22', '2011-08-19 07:29:22')
  [1m[36mSQL (6.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments/12
Completed 302 Found in 58ms


Started GET "/products/2/comments/12" for 127.0.0.1 at 2011-08-19 14:29:22 +0700
  Processing by CommentsController#show as HTML
  Parameters: {"product_id"=>"2", "id"=>"12"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 12 AND (`comments`.product_id = 2) LIMIT 1[0m
Completed 500 Internal Server Error in 39ms

ActionView::MissingTemplate (Missing template comments/show with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.0ms)


Started GET "/products/2/comments/12" for 127.0.0.1 at 2011-08-19 14:32:52 +0700
  Processing by CommentsController#show as HTML
  Parameters: {"product_id"=>"2", "id"=>"12"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 12 AND (`comments`.product_id = 2) LIMIT 1[0m
Completed 500 Internal Server Error in 34ms

ActionView::MissingTemplate (Missing template comments/show with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/kevin/vinova/rails_project/rails30_apps/demo/app/views", "/home/kevin/vinova/rails_project/rails30_apps/demo/vendor/plugins/dynamic_form/app/views", "/home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/devise-1.4.2/app/views"):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:32:57 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.4ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (25.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (106.7ms)
Completed 200 OK in 138ms (Views: 115.0ms | ActiveRecord: 1.2ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:34:44 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (3.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (36.4ms)
Completed 200 OK in 74ms (Views: 45.1ms | ActiveRecord: 0.3ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:34:56 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"jfkdf k\r\ndjfdjf\r\ndkfjdfj ", "user_id"=>"1", "product_id"=>"3"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mdescribe `comments`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('jfkdf k\r\ndjfdjf\r\ndkfjdfj ', 1, 2, '2011-08-19 07:34:57', '2011-08-19 07:34:57')
  [1m[36mSQL (10.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 60ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:34:57 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.3ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (22.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (60.3ms)
Completed 200 OK in 91ms (Views: 68.4ms | ActiveRecord: 1.0ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:39:35 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (37.0ms)
Completed 200 OK in 75ms (Views: 45.9ms | ActiveRecord: 0.4ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:39:42 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"dfaadsf fbfbcv vavadvdv afd dfdfdff "}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  describe `comments`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('dfaadsf fbfbcv vavadvdv afd dfdfdff ', NULL, 2, '2011-08-19 07:39:42', '2011-08-19 07:39:42')[0m
  [1m[35mSQL (9.1ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 98ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:39:42 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (22.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (71.0ms)
Completed 200 OK in 103ms (Views: 79.4ms | ActiveRecord: 1.1ms)


Started DELETE "/products/2/comments/14" for 127.0.0.1 at 2011-08-19 14:43:14 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"14"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 14 AND (`comments`.product_id = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM `comments` WHERE `comments`.`id` = 14[0m
  [1m[35mSQL (7.0ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 59ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:15 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (21.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (60.0ms)
Completed 200 OK in 91ms (Views: 68.0ms | ActiveRecord: 1.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:20 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (26.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (76.7ms)
Completed 200 OK in 115ms (Views: 88.6ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:43:25 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (36.6ms)
Completed 200 OK in 79ms (Views: 45.3ms | ActiveRecord: 0.3ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:33 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"fkdkfjdk d'dfd\r\nf\r\nd djfd\r\n"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mdescribe `comments`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('fkdkfjdk d\'dfd\r\nf\r\nd djfd\r\n', NULL, 2, '2011-08-19 07:43:33', '2011-08-19 07:43:33')
  [1m[36mSQL (8.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 62ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:33 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (22.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (63.7ms)
Completed 200 OK in 100ms (Views: 72.5ms | ActiveRecord: 0.9ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:43:38 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (37.0ms)
Completed 200 OK in 113ms (Views: 46.0ms | ActiveRecord: 0.4ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:43 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"dfdf dfd dfa dfdfad add"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mdescribe `comments`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('dfdf dfd dfa dfdfad add', NULL, 2, '2011-08-19 07:43:43', '2011-08-19 07:43:43')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 53ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:43 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (69.8ms)
Completed 200 OK in 142ms (Views: 78.8ms | ActiveRecord: 0.8ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:43:46 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (77.1ms)
Completed 200 OK in 115ms (Views: 86.0ms | ActiveRecord: 0.3ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:51 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"dfdf dfdfdaf ddfd dfafafd"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  describe `comments`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('dfdf dfdfdaf ddfd dfafafd', NULL, 2, '2011-08-19 07:43:51', '2011-08-19 07:43:51')[0m
  [1m[35mSQL (6.7ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 56ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:43:51 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (30.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (115.3ms)
Completed 200 OK in 146ms (Views: 123.6ms | ActiveRecord: 1.1ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 14:45:44 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (3.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (37.9ms)
Completed 200 OK in 84ms (Views: 46.7ms | ActiveRecord: 0.4ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:45:49 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"teafd dfafa dfa dfdafd d"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  describe `comments`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('teafd dfafa dfa dfdafd d', NULL, 2, '2011-08-19 07:45:49', '2011-08-19 07:45:49')[0m
  [1m[35mSQL (8.8ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 67ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:45:49 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (24.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (65.1ms)
Completed 200 OK in 96ms (Views: 72.9ms | ActiveRecord: 1.2ms)


Started DELETE "/products/2/comments/18" for 127.0.0.1 at 2011-08-19 14:45:59 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"18"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.5ms)[0m  SELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 18 AND (`comments`.product_id = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `comments` WHERE `comments`.`id` = 18
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 52ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:45:59 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.5ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (24.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (103.4ms)
Completed 200 OK in 134ms (Views: 111.5ms | ActiveRecord: 1.0ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:46:05 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (30.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (73.8ms)
Completed 200 OK in 105ms (Views: 82.4ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:50:10 +0700

SyntaxError (/home/kevin/vinova/rails_project/rails30_apps/demo/app/controllers/comments_controller.rb:17: syntax error, unexpected $end, expecting keyword_end):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:50:40 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (23.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (62.8ms)
Completed 200 OK in 93ms (Views: 71.5ms | ActiveRecord: 0.7ms)


Started DELETE "/products/2/comments/17" for 127.0.0.1 at 2011-08-19 14:50:43 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"17"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mComment Load (0.3ms)[0m  SELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 17 AND (`comments`.product_id = 2) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  DELETE FROM `comments` WHERE `comments`.`id` = 17
  [1m[36mSQL (63.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 122ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:50:43 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.5ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (58.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (98.0ms)
Completed 200 OK in 137ms (Views: 106.2ms | ActiveRecord: 1.2ms)


Started DELETE "/products/2/comments/17" for 127.0.0.1 at 2011-08-19 14:50:47 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"17"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 17 AND (`comments`.product_id = 2) LIMIT 1[0m
Completed 404 Not Found in 24ms

ActiveRecord::RecordNotFound (Couldn't find Comment with ID=17 [WHERE (`comments`.product_id = 2)]):
  

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:50:50 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (61.7ms)
Completed 200 OK in 93ms (Views: 70.3ms | ActiveRecord: 0.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:59:57 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (61.9ms)
Completed 200 OK in 94ms (Views: 70.6ms | ActiveRecord: 0.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 14:59:59 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (63.4ms)
Completed 200 OK in 134ms (Views: 72.1ms | ActiveRecord: 0.6ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:00:00 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (23.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (63.2ms)
Completed 200 OK in 132ms (Views: 71.9ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:01:39 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (28.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (82.5ms)
Completed 200 OK in 167ms (Views: 142.9ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:08:25 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (59.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (99.7ms)
Completed 200 OK in 130ms (Views: 108.4ms | ActiveRecord: 0.5ms)


Started DELETE "/products/2/comments/16" for 127.0.0.1 at 2011-08-19 15:08:28 +0700
  Processing by CommentsController#destroy as JS
  Parameters: {"product_id"=>"2", "id"=>"16"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE `comments`.`id` = 16 AND (`comments`.product_id = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM `comments` WHERE `comments`.`id` = 16[0m
  [1m[35mSQL (7.1ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 57ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:08:28 +0700
  Processing by CommentsController#index as JS
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (28.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (71.2ms)
Completed 200 OK in 107ms (Views: 79.1ms | ActiveRecord: 1.2ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:08:31 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (22.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (60.5ms)
Completed 200 OK in 128ms (Views: 69.2ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:18:36 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (22.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (60.1ms)
Completed 200 OK in 157ms (Views: 104.7ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:18:40 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (60.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (98.9ms)
Completed 200 OK in 142ms (Views: 111.1ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:44:35 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (89.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (152.0ms)
Completed 200 OK in 189ms (Views: 161.5ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:46:28 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (66.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (115.9ms)
Completed 200 OK in 164ms (Views: 126.2ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:47:19 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (24.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (111.8ms)
Completed 200 OK in 148ms (Views: 121.3ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:47:45 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_comment.html.erb (25.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (109.8ms)
Completed 200 OK in 142ms (Views: 119.0ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:47:49 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_comment.html.erb (24.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (111.9ms)
Completed 200 OK in 151ms (Views: 121.9ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 15:48:26 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/_comment.html.erb (9.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (61.5ms)
Completed 200 OK in 95ms (Views: 70.9ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 16:19:06 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (35.8ms)
Completed 200 OK in 73ms (Views: 44.5ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:21:00 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)[0m
  [1m[35mComment Load (0.2ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)
Rendered comments/_comment.html.erb (8.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (47.7ms)
Completed 200 OK in 79ms (Views: 56.2ms | ActiveRecord: 0.7ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 16:21:01 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (3.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (42.2ms)
Completed 200 OK in 123ms (Views: 92.7ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 16:21:24 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
Rendered comments/_form.html.erb (2.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/new.html.erb within layouts/application (38.2ms)
Completed 200 OK in 76ms (Views: 47.1ms | ActiveRecord: 0.3ms)


Started POST "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:21:34 +0700
  Processing by CommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FxbpOWthTGp5+Wpn8inpwSzsGCqsYXpCJQEJCK105Zg=", "comment"=>{"content"=>"terefa dfdfdf adfdfd df"}, "commit"=>"Add comment", "product_id"=>"2"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `comments`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `comments` (`content`, `user_id`, `product_id`, `created_at`, `updated_at`) VALUES ('terefa dfdfdf adfdfd df', NULL, 2, '2011-08-19 09:21:35', '2011-08-19 09:21:35')[0m
  [1m[35mSQL (7.7ms)[0m  COMMIT
Redirected to http://localhost:3000/products/2/comments
Completed 302 Found in 73ms


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:21:35 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.3ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/_comment.html.erb (9.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (88.2ms)
Completed 200 OK in 119ms (Views: 96.3ms | ActiveRecord: 0.9ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:23:49 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/_comment.html.erb (9.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (49.5ms)
Completed 200 OK in 80ms (Views: 57.8ms | ActiveRecord: 0.6ms)


Started GET "/products/2/comments/new" for 127.0.0.1 at 2011-08-19 16:23:57 +0700
  Processing by CommentsController#new as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
Rendered comments/_form.html.erb (2.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/new.html.erb within layouts/application (36.3ms)
Completed 200 OK in 79ms (Views: 45.0ms | ActiveRecord: 0.4ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:24:02 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.2ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/_comment.html.erb (9.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (48.2ms)
Completed 200 OK in 121ms (Views: 56.7ms | ActiveRecord: 0.8ms)


Started GET "/products" for 127.0.0.1 at 2011-08-19 16:24:26 +0700
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products`[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered products/index.html.erb within layouts/application (73.2ms)
Completed 200 OK in 83ms (Views: 81.4ms | ActiveRecord: 0.7ms)


Started GET "/products/3" for 127.0.0.1 at 2011-08-19 16:24:28 +0700
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
Rendered products/show.html.erb within layouts/application (44.3ms)
Completed 200 OK in 90ms (Views: 53.4ms | ActiveRecord: 0.5ms)


Started GET "/products/3" for 127.0.0.1 at 2011-08-19 16:25:34 +0700
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
Rendered products/show.html.erb within layouts/application (79.7ms)
Completed 500 Internal Server Error in 119ms

ActionView::Template::Error (No route matches {:controller=>"comments"}):
    36:     <td>
    37:     <%= link_to 'Edit', edit_product_path(@product) %> |
    38:     <%= link_to 'view all', products_path %> |
    39:     <%= link_to 'all comments', product_comments_path %>
    40:     </td>
    41:   </tr>
    42: </table>
  app/views/products/show.html.erb:39:in `_app_views_products_show_html_erb__517276783_75243560__643176237'

Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /home/kevin/.rvm/gems/ruby-1.9.2-p290@rails3.0/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.3ms)


Started GET "/products/3" for 127.0.0.1 at 2011-08-19 16:26:11 +0700
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
Rendered products/show.html.erb within layouts/application (38.8ms)
Completed 200 OK in 80ms (Views: 47.7ms | ActiveRecord: 0.5ms)


Started GET "/products/3/comments" for 127.0.0.1 at 2011-08-19 16:26:14 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"3"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 3)[0m
  [1m[35mComment Load (0.4ms)[0m  SELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 3)
Rendered collection (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered comments/index.html.erb within layouts/application (44.2ms)
Completed 200 OK in 75ms (Views: 52.2ms | ActiveRecord: 1.1ms)


Started GET "/products" for 127.0.0.1 at 2011-08-19 16:26:17 +0700
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products`
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered products/index.html.erb within layouts/application (114.5ms)
Completed 200 OK in 125ms (Views: 123.1ms | ActiveRecord: 0.6ms)


Started GET "/products/2" for 127.0.0.1 at 2011-08-19 16:26:19 +0700
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
Rendered products/show.html.erb within layouts/application (50.7ms)
Completed 200 OK in 91ms (Views: 59.7ms | ActiveRecord: 0.8ms)


Started GET "/products/2/comments" for 127.0.0.1 at 2011-08-19 16:26:21 +0700
  Processing by CommentsController#index as HTML
  Parameters: {"product_id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `comments` WHERE (`comments`.product_id = 2)
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.product_id = 2)[0m
Rendered comments/_comment.html.erb (9.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered comments/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 78ms (Views: 55.5ms | ActiveRecord: 0.4ms)


Started GET "/products" for 127.0.0.1 at 2011-08-19 16:26:24 +0700
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products`[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered products/index.html.erb within layouts/application (113.3ms)
Completed 200 OK in 123ms (Views: 120.8ms | ActiveRecord: 1.4ms)
